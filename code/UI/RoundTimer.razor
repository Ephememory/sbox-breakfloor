@using System;
@using Sandbox;
@using Sandbox.UI;
@using Breakfloor;

@namespace Breakfloor.UI
@inherits Panel

@code
{
	protected override int BuildHash()
	{
		return (int)BreakfloorGame.Instance.RoundTimer;
	}
}

<root>
	@{
		SetClass("active", BreakfloorGame.Instance.RoundActive);
	}
	<label style="font-size: 32px;">⏱</label>
	<label>
		@{
			var span = TimeSpan.FromSeconds((BreakfloorGame.Instance.RoundTimer * 60).Clamp(0, float.MaxValue));
			@(BreakfloorGame.Instance.RoundActive ? span.ToString(@"h\:mm") : "-:--")
			;
		}
	</label>
	<style>
		roundtimer {
			background-image: linear-gradient(to top, rgba(0, 0, 0, 0.521), rgba(0, 0, 0, 0));
			color: rgb(211, 205, 205);
			justify-content: center;
			align-items: center;
			position: absolute;
			left: 50%;
			top: 2%;
			border-radius: 15px;
			width: 215px;
			height: 80px;
			margin-left: -107px;
			font-family: Poppins;
			font-weight: thin;
			font-size: 65px;
			text-shadow: 2px 2px 1px rgba(0,0,0,0.5);
			transition: opacity 200ms ease-in-out;
			transition: transform 400ms ease-in-out;
			opacity: 0.0;
			transform: translateY(-200);

			&.active
			{
				transition: opacity 200ms ease-in-out;
				transition: transform 350ms ease-in-out;
				transform: translateY(0);
				opacity: 1;
			}

		}
	</style>
</root>
